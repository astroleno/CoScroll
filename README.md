# CoScroll - æ•°å­—ç»å·ä½“éªŒ

> AIé©±åŠ¨çš„3Dä¹¦æ³•ä¸éŸ³é¢‘åŒæ­¥çš„æ²‰æµ¸å¼æ»šåŠ¨ä½“éªŒ

## é¡¹ç›®æ¦‚è¿°

CoScroll æ˜¯ä¸€ä¸ªç»“åˆæ»šåŠ¨äº¤äº’ã€3Dä¹¦æ³•æ¨¡å‹å’ŒéŸ³é¢‘åŒæ­¥çš„æ•°å­—ç»å·ä½“éªŒåº”ç”¨ã€‚é€šè¿‡æ»šåŠ¨æ“ä½œï¼Œç”¨æˆ·å¯ä»¥ä½“éªŒæ–‡å­—å‰åäº¤æ›¿æ˜¾ç¤ºã€3Dæ¨¡å‹åŒæ­¥æ—‹è½¬å’ŒéŸ³é¢‘é€Ÿåº¦åŒæ­¥çš„æ²‰æµ¸å¼é˜…è¯»ä½“éªŒã€‚

### æ ¸å¿ƒåŠŸèƒ½

- ğŸ“œ **æ»šåŠ¨é©±åŠ¨**: ä¸Šä¸‹æ»šåŠ¨æ§åˆ¶æ•´ä½“èŠ‚å¥
- ğŸ¨ **3Dä¹¦æ³•**: ä¹¦æ³•æ¨¡å‹æ ¹æ®æ»šåŠ¨é€Ÿåº¦æ—‹è½¬
- ğŸ“ **æ–‡å­—äº¤æ›¿**: ä¸€è¡Œåœ¨æ¨¡å‹å‰æ–¹ï¼Œä¸€è¡Œåœ¨åæ–¹äº¤æ›¿æ˜¾ç¤º
- ğŸµ **éŸ³é¢‘åŒæ­¥**: éŸ³é¢‘æ’­æ”¾é€Ÿåº¦ä¸æ»šåŠ¨é€Ÿåº¦åŒæ­¥
- ğŸ§˜ **æ²‰æµ¸ä½“éªŒ**: ç®€çº¦è®¾è®¡ï¼Œä¸“æ³¨äºå†…å®¹æœ¬èº«

## MVP ç‰ˆæœ¬ç‰¹æ€§

- âœ… å¿ƒç»æ–‡æœ¬ä½“éªŒ
- âœ… é“å­— 3D æ¨¡å‹ (003_é“.glb)
- âœ… åŸºç¡€æ»šåŠ¨äº¤äº’
- âœ… ç¡¬ç¼–ç å†…å®¹æ•°æ®
- âœ… é¢„ç•™ AI é›†æˆæ¥å£

## æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶
- **Next.js 14** - React åº”ç”¨æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **TailwindCSS** - æ ·å¼æ¡†æ¶

### 3D æ¸²æŸ“
- **Three.js** - 3D å›¾å½¢åº“
- **React Three Fiber** - React Three.js é›†æˆ
- **React Three Drei** - Three.js å·¥å…·ç»„ä»¶

### çŠ¶æ€ç®¡ç†
- **Zustand** - è½»é‡çŠ¶æ€ç®¡ç†
- **TanStack Query** - æ•°æ®è·å–å’Œç¼“å­˜

### éŸ³é¢‘å¤„ç†
- **Tone.js** - Web éŸ³é¢‘å¤„ç†
- **Web Audio API** - åŸç”ŸéŸ³é¢‘æ§åˆ¶

## é¡¹ç›®ç»“æ„

```
CoScroll/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒç»„ä»¶ (ScrollCanvas, TextFlow, Model3D, AudioController)
â”‚   â”‚   â”œâ”€â”€ ui/                # UI ç»„ä»¶ (Loader, ErrorBoundary)
â”‚   â”‚   â””â”€â”€ layout/            # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ hooks/                 # è‡ªå®šä¹‰ Hooks (useScroll, useText, useAudio, useModel, useSync)
â”‚   â”œâ”€â”€ stores/                # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ types/                 # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ data/                  # ç¡¬ç¼–ç æ•°æ® (MVP é˜¶æ®µ)
â”‚   â””â”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ models/10k/            # 3D æ¨¡å‹æ–‡ä»¶
â”‚   â”œâ”€â”€ audio/                 # éŸ³é¢‘æ–‡ä»¶
â”‚   â””â”€â”€ images/                # å›¾ç‰‡èµ„æº
â””â”€â”€ docs/                      # é¡¹ç›®æ–‡æ¡£
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
npm install
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

### 3. è®¿é—®åº”ç”¨
æ‰“å¼€ [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨

## ä½¿ç”¨è¯´æ˜

1. **è¿›å…¥ä½“éªŒé¡µé¢**: ç‚¹å‡»é¦–é¡µçš„"å¼€å§‹ä½“éªŒ"æŒ‰é’®
2. **æ»šåŠ¨äº¤äº’**: ä½¿ç”¨é¼ æ ‡æ»šè½®æˆ–é”®ç›˜ç®­å¤´é”®æ§åˆ¶æ»šåŠ¨
3. **è§‚å¯ŸåŒæ­¥**: æ–‡å­—ã€3Dæ¨¡å‹æ—‹è½¬å’ŒéŸ³é¢‘æ’­æ”¾ä¼šæ ¹æ®æ»šåŠ¨é€Ÿåº¦åŒæ­¥å˜åŒ–
4. **éŸ³é¢‘æ§åˆ¶**: ç‚¹å‡»åº•éƒ¨æ’­æ”¾æŒ‰é’®æ§åˆ¶éŸ³é¢‘æ’­æ”¾

### p5 é‡æ„ï¼ˆå®éªŒæ€§å…¥å£ï¼‰

å‚è§ `docs/p5_migration.md` è·å–è¿ç§»æŒ‡å¼•ã€‚

è‹¥è¦åœ¨ç°æœ‰é¡¹ç›®ä¸­è¯•è·‘ p5 éª¨æ¶ï¼š

```ts
// ç¤ºä¾‹ï¼šä»…åœ¨æµè§ˆå™¨ç«¯åŠ¨æ€æŒ‚è½½ p5ï¼ˆé¿å… SSR æŠ¥é”™ï¼‰
useEffect(() => {
  (async () => {
    try {
      const { createSketch } = await import("@/p5/sketch");
      createSketch({ debug: true });
    } catch (e) {
      console.error("[README example] p5 mount error", e);
    }
  })();
}, []);
```

æ³¨æ„ï¼šp5 WEBGL ä¸ GLB æ¨¡å‹å…±å­˜éœ€é€‰å‹ï¼ˆè§æŒ‡å¼•â€œGLB æ¨¡å‹ç­–ç•¥â€ç« èŠ‚ï¼‰ã€‚

## å¼€å‘æŒ‡å—

### æ ¸å¿ƒç»„ä»¶

1. **ScrollCanvas** (`/src/components/core/ScrollCanvas.tsx`)
   - ä¸»è¦çš„ Three.js ç”»å¸ƒç»„ä»¶
   - æ•´åˆæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½

2. **TextFlow** (`/src/components/core/TextFlow.tsx`)
   - å¤„ç†æ–‡å­—çš„å‰åäº¤æ›¿æ˜¾ç¤º
   - ä½¿ç”¨ `@react-three/drei` çš„ Text ç»„ä»¶

3. **Model3D** (`/src/components/core/Model3D.tsx`)
   - 3D æ¨¡å‹æ¸²æŸ“å’Œæ—‹è½¬æ§åˆ¶
   - æ”¯æŒ GLB æ¨¡å‹åŠ è½½

4. **AudioController** (`/src/components/core/AudioController.tsx`)
   - éŸ³é¢‘æ’­æ”¾æ§åˆ¶å’ŒåŒæ­¥
   - åŸºäº Tone.js å®ç°

### è‡ªå®šä¹‰ Hooks

- **useScroll**: æ»šåŠ¨äº‹ä»¶å¤„ç†å’ŒçŠ¶æ€ç®¡ç†
- **useText**: æ–‡æœ¬æ•°æ®å’Œæ®µè½å¯¼èˆª
- **useAudio**: éŸ³é¢‘æ’­æ”¾æ§åˆ¶
- **useModel**: 3Dæ¨¡å‹ç®¡ç†
- **useSync**: æ ¸å¿ƒåŒæ­¥é€»è¾‘

### çŠ¶æ€ç®¡ç†

ä½¿ç”¨ Zustand ç®¡ç†å…¨å±€çŠ¶æ€ï¼š
- `scrollStore`: æ»šåŠ¨ç›¸å…³çŠ¶æ€
- `contentStore`: æ–‡æœ¬å†…å®¹çŠ¶æ€
- `audioStore`: éŸ³é¢‘æ’­æ”¾çŠ¶æ€

## æ‰©å±•å¼€å‘

### æ·»åŠ æ–°çš„æ–‡æœ¬å†…å®¹

1. åœ¨ `/src/data/mvp-content.ts` ä¸­æ·»åŠ æ–°çš„æ–‡æœ¬æ®µè½
2. ç¡®ä¿æ¯ä¸ªæ®µè½åŒ…å« `anchorWord` ç”¨äºæ¨¡å‹åŒ¹é…

### æ·»åŠ æ–°çš„ 3D æ¨¡å‹

1. å°† GLB æ–‡ä»¶æ”¾ç½®åœ¨ `/public/models/10k/` ç›®å½•
2. åœ¨ `mvp-content.ts` çš„ `models` å¯¹è±¡ä¸­æ·»åŠ æ¨¡å‹ä¿¡æ¯
3. ç¡®ä¿æ–‡ä»¶è·¯å¾„æ­£ç¡®

### éŸ³é¢‘é›†æˆ

1. å°†éŸ³é¢‘æ–‡ä»¶æ”¾ç½®åœ¨ `/public/audio/` ç›®å½•
2. åœ¨éŸ³é¢‘é…ç½®ä¸­æŒ‡å®šæ–‡ä»¶è·¯å¾„
3. æ”¯æŒ MP3ã€WAV ç­‰æ ¼å¼

## æ€§èƒ½ä¼˜åŒ–

- æ¨¡å‹é¢„åŠ è½½å’Œç¼“å­˜
- éŸ³é¢‘æµå¼åŠ è½½
- Three.js æ¸²æŸ“ä¼˜åŒ–
- ç»„ä»¶æ‡’åŠ è½½

## æµè§ˆå™¨æ”¯æŒ

- Chrome 80+
- Firefox 75+
- Safari 14+
- Edge 80+

è¦æ±‚æ”¯æŒ WebGL 2.0 å’Œ Web Audio API

## é¡¹ç›®çŠ¶æ€

### å½“å‰ç‰ˆæœ¬: MVP v0.1.0

- [x] åŸºç¡€æ¡†æ¶æ­å»º
- [x] æ ¸å¿ƒç»„ä»¶å¼€å‘
- [x] æ»šåŠ¨äº¤äº’å®ç°
- [x] 3D æ¨¡å‹é›†æˆ
- [x] éŸ³é¢‘åŒæ­¥åŠŸèƒ½
- [x] æ•°æ®ç»“æ„è®¾è®¡

### è®¡åˆ’åŠŸèƒ½

- [ ] LLM æ–‡æœ¬åˆ†æé›†æˆ
- [ ] æ›´å¤šä¹¦æ³•æ¨¡å‹åº“
- [ ] ç”¨æˆ·è‡ªå®šä¹‰å†…å®¹
- [ ] ç§»åŠ¨ç«¯ä¼˜åŒ–
- [ ] æ€§èƒ½ç›‘æ§

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## è”ç³»æ–¹å¼

- é¡¹ç›®é“¾æ¥: [https://github.com/yourusername/CoScroll](https://github.com/yourusername/CoScroll)
- é—®é¢˜åé¦ˆ: [Issues](https://github.com/yourusername/CoScroll/issues)

---

**CoScroll** - è®©å¤å…¸æ–‡åŒ–åœ¨æ•°å­—æ—¶ä»£ç„•å‘æ–°çš„ç”Ÿå‘½åŠ› âœ¨